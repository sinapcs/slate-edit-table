image: archlinux
packages:
  - nodejs
  - yarn
sources:
  - https://git.sr.ht/~statianzo/slate-edit-table
secrets:
  - f295d888-a1dd-4f89-880a-58b31b4b78af
tasks:
  - setup: |
      cd slate-edit-table
      yarn --frozen-lockfile
  - build: |
      cd slate-edit-table
      yarn run build
  - test: |
      cd slate-edit-table
      yarn test
  - mirror: |
      cd slate-edit-table
      git config credential.helper store
      git push --mirror https://statianzo@github.com/statianzo/slate-edit-table
